# SKYBANK-WIDGET
## Описание:
Учебное приложение для анализа банковских транзакций,которое реализует логику генерации JSON ответов страниц "Главная" и "События"

## Установка:
1. Клонируйте репозиторий:
   ```
   git clone https://github.com/goqwertys/skybank_widget
   ```
2. Запустите виртуальное окружение:
    ```
    poetry install
   ```
3. Установите API ключи в соответствии с **.env.example**:
   ```
   EXCHANGE_RATES_API_KEY=api_key
   ALPHA_VANTAGE_API_KEY=api_key
   ```
   Вам потребуются пройти регистрацию на следующих сервисах:  
   - [Exchange Rates Data API](https://apilayer.com/marketplace/exchangerates_data-api)
   - [Alpha Vantage](https://www.alphavantage.co/)

## Использоание:
1. Убедитесь, что файлы **operations.xlsx** и **user_settings.json** находятся в папке **/data** в корне проекта
   ```
   .
   ├── data
   │ ├── operations.xlsx
   │ ├── user_settings.json
   ```
   <div style="padding-left: 20px">
   При необходимости вы можете редактировать название этих файлов в файле конфигурации
   </div>

2. При необходимости внесите изменения в **config.py** для редактирования:
   - приветственных сообщений,
   - временных границ времён суток
3. Запустите модуль **main.py**  
    ```
    python main.py
    ```
4. Следуйте инструкциям в командной строке
   ```
   Введите дату в формате: YYYY-MM-DD HH:MM:SS для страницы 'Главная' или X для выхода
   2021-01-20 15:20:30
   Введите дату в формате: YYYY-MM-DD HH:MM:SS для страницы 'События' или X для выхода
   2021-01-20 15:20:30
   Введите 'ALL', 'W', 'M', 'Y' для выбора периода для страницы 'События' или 'X' для пропуска
   M
   Данные для страницы 'Главная' сохранены в ...\project root\data\main_page.json
   Данные для страницы 'События' сохранены в ...\project root\data\main_page.json
   ```
5. По завершении работы программы в папке вы найдёте файлы **main_page.json** и **events_page.json** в указанной директории
## Функионал:

### 1. Основная логика:
<div style="padding-left: 20px">
Находится в модуле **main.py**
</div>

### 2. Функции модуля **paths.py**:
<div style="padding-left: 20px">
Позволяет получить путь к корню проекта для дальшейшего использования в проекте.
</div>

### 3. Функции модуля **views.py**:
<div style="padding-left: 20px">
В этом модули функции отвечающие за JSON-ответы web-страниц "Главная" и "События"
</div>

### 4. Функции модуля **external_api.py**
<div style="padding-left: 20px">
Реализуют логику запроса данных о валютах и ценах из сторонних источников
</div>

### 5. Функции модуля **utils.py**:
<div style="padding-left: 20px">
Реализуют логику работы с данными, для последующего использования последних в JSON-ответах
</div>

## Тестирование:

Для тестирования используются **pytest** и **unittest**
Проект покрыт юнит-тестами. Для их запуска выполните команду:

```
pytest
```
## Лицензия

Учебный проект

![Текст описания](https://static.tildacdn.com/tild3364-3965-4237-b664-363533643431/Group_1321317003.svg)